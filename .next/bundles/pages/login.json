{"component":"module.exports=webpackJsonp([4],{414:function(e,t,a){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=a(14),l=n(r),u=a(11),o=n(u),s=a(12),d=n(s),i=a(16),f=n(i),c=a(15),m=n(c),p=a(6),v=n(p),g=a(163),h=n(g),E=a(166),N=a(161),_=n(N),b=a(48),w=a(614),x=n(w),I=function(e){function t(){return(0,o.default)(this,t),(0,f.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,d.default)(t,[{key:\"render\",value:function(){var e=this.props,t=e.lang,a=e.userInfo;console.log(\"login-> lang -> the user:\",t,a,void 0!==a);var n=\"zh\"===t?a.userName+\"您好\":\"Hello \"+a.userName,r=\"zh\"===t?\"系统验证\":\"Verification\",l=\"zh\"===t?\"验证通过，欢迎回来！\":\"Welcome back\",u=\"zh\"===t?\"请输入用户名密码进行验证\":\"Please input user name and password\",o=void 0!==a&&a.userId>0,s=o?n:r,d=o?l:u;console.log(\"Login->loggedIn,title,subTitle:\",o,s,d);var i=function(){return o?v.default.createElement(\"div\",null,v.default.createElement(b.FormattedMessage,{id:\"currentUser\"}),\" : \",a.userName,\" \"):v.default.createElement(x.default,null)};return v.default.createElement(h.default,{title:s,subTitle:d,breadcrumb:\"Login\"},i())}}]),t}(p.Component);t.default=(0,_.default)(E.initStore,function(e){return console.log(\"login->state:\",e),e})(I)},614:function(e,t,a){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=a(14),l=n(r),u=a(11),o=n(u),s=a(12),d=n(s),i=a(16),f=n(i),c=a(15),m=n(c),p=a(6),v=n(p),g=a(78),h=a(48),E=a(369),N=n(E),_=a(370),b=n(_),w=function(e){function t(e){(0,o.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.onLogin=a.onLogin.bind(a),a.onLogout=a.onLogout.bind(a),a}return(0,m.default)(t,e),(0,d.default)(t,[{key:\"render\",value:function(){var e=this,t=this.props.userInfo,a=function(){var a=e.refs,n=a.userNameEx,r=a.passwordEx;if(void 0===t||void 0===r)return v.default.createElement(h.FormattedMessage,{id:\"loginPrompt\"});if(void 0!==r){var l=r.refs.wrappedInstance.refs.password;l.value=\"\"}if(void 0!==n){var u=n.refs.wrappedInstance.refs.userName;u.select()}return v.default.createElement(h.FormattedMessage,{id:\"loginFailPrompt\"})},n=function(){return void 0!==t&&t.userId>0?v.default.createElement(\"div\",null,v.default.createElement(\"h1\",{className:\"title\"},v.default.createElement(h.FormattedMessage,{id:\"loginSuccessTitle\",values:{userName:t.userName}})),v.default.createElement(\"button\",{className:\"button expanded\",onClick:e.onLogout},v.default.createElement(h.FormattedMessage,{id:\"logoutButton\"}))):v.default.createElement(\"div\",null,v.default.createElement(\"h1\",{className:\"title\"},v.default.createElement(h.FormattedMessage,{id:\"loginTitle\"})),v.default.createElement(\"form\",{onSubmit:e.onLogin},v.default.createElement(b.default,{locId:\"phUserName\",ref:\"userNameEx\",refName:\"userName\",type:\"text\",className:\"text\"}),v.default.createElement(b.default,{locId:\"phPassword\",ref:\"passwordEx\",refName:\"password\",type:\"password\",className:\"password\"}),v.default.createElement(b.default,{type:\"submit\",className:\"button expanded\",locId:\"loginButton\"})),a())};return v.default.createElement(\"div\",null,n())}},{key:\"onLogin\",value:function(e){e.preventDefault();var t=this.props.dispatch,a=this.refs,n=a.userNameEx,r=a.passwordEx,l=n.refs.wrappedInstance.refs.userName,u=r.refs.wrappedInstance.refs.password;l.value.length>0&&u.value.length>0?t(N.default.verifyUser(l.value,u.value)):(l.focus(),u.value=\"\")}},{key:\"onLogout\",value:function(e){e.preventDefault();var t=this.props.dispatch;t(N.default.logOut())}}]),t}(p.Component);t.default=(0,g.connect)(function(e){return e})(w)},742:function(e,t,a){e.exports=a(414)}},[742]);"}